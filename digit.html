<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digit - Memory Sequence Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            padding: 20px;
        }

        .game-container {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #f39c12, #e74c3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .game-info {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .info-box {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .info-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .info-value {
            font-size: 1.6em;
            font-weight: bold;
        }

        .sequence-display {
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .digit-display {
            font-size: 8em;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            opacity: 0;
            transition: all 0.3s ease;
            position: absolute;
        }

        .digit-display.flash {
            opacity: 1;
            transform: scale(1.1);
            text-shadow: 0 0 30px currentColor;
        }

        .status-message {
            font-size: 1.4em;
            margin: 20px 0;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .input-area {
            margin: 30px 0;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin: 20px 0;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .digit-btn {
            width: 60px;
            height: 60px;
            font-size: 1.8em;
            font-weight: bold;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .digit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
            background: linear-gradient(135deg, #5dade2, #3498db);
        }

        .digit-btn:active {
            transform: translateY(0);
        }

        .sequence-input {
            font-size: 1.5em;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-align: center;
            letter-spacing: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            width: 100%;
            max-width: 300px;
        }

        .sequence-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }

        .btn {
            padding: 12px 25px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .start-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        .submit-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .clear-btn {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .clear-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .instructions {
            background: rgba(52, 152, 219, 0.2);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #3498db;
            margin: 25px 0;
            text-align: left;
        }

        .instructions h3 {
            color: #5dade2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .instructions ul {
            margin-left: 20px;
            line-height: 1.6;
        }

        .instructions li {
            margin: 8px 0;
        }

        .round-indicator {
            font-size: 1.1em;
            padding: 8px 16px;
            background: rgba(155, 89, 182, 0.3);
            border-radius: 20px;
            border: 1px solid rgba(155, 89, 182, 0.5);
            display: inline-block;
            margin: 10px 0;
        }

        .reverse-mode {
            background: rgba(231, 76, 60, 0.3);
            border-color: rgba(231, 76, 60, 0.5);
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { 
                background: rgba(231, 76, 60, 0.3);
                box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7);
            }
            50% { 
                background: rgba(231, 76, 60, 0.5);
                box-shadow: 0 0 0 10px rgba(231, 76, 60, 0);
            }
        }

        .correct-flash {
            animation: correct-glow 0.8s ease-out;
        }

        .incorrect-flash {
            animation: incorrect-glow 0.8s ease-out;
        }

        @keyframes correct-glow {
            0% { background: rgba(46, 204, 113, 0.1); }
            50% { background: rgba(46, 204, 113, 0.3); }
            100% { background: rgba(255, 255, 255, 0.1); }
        }

        @keyframes incorrect-glow {
            0% { background: rgba(231, 76, 60, 0.1); }
            50% { background: rgba(231, 76, 60, 0.3); }
            100% { background: rgba(255, 255, 255, 0.1); }
        }

        .hidden {
            display: none;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1em;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Menu</a>
    <div class="game-container">
        <h1>Digit</h1>
        <p class="subtitle">Memory Sequence Game</p>

        <div class="instructions">
            <h3>How to Play:</h3>
            <ul>
                <li><strong>Watch:</strong> Digits flash on screen in sequence</li>
                <li><strong>Remember:</strong> Memorize the order they appeared</li>
                <li><strong>Round 1:</strong> Enter digits in the <strong>same order</strong></li>
                <li><strong>Round 2+:</strong> Enter digits in <strong>reverse order</strong></li>
                <li><strong>Progress:</strong> Sequences get longer each level</li>
            </ul>
        </div>

        <div class="game-info">
            <div class="info-box">
                <div class="info-label">Level</div>
                <div class="info-value" id="level">1</div>
            </div>
            <div class="info-box">
                <div class="info-label">Length</div>
                <div class="info-value" id="sequenceLength">3</div>
            </div>
            <div class="info-box">
                <div class="info-label">Round</div>
                <div class="info-value" id="round">1</div>
            </div>
        </div>

        <div class="round-indicator" id="modeIndicator">
            Forward Mode - Enter in same order
        </div>

        <div class="sequence-display" id="sequenceDisplay">
            <div class="digit-display" id="digitDisplay">?</div>
        </div>

        <div class="status-message" id="statusMessage">
            Click "Start Game" to begin!
        </div>

        <div class="input-area">
            <input type="text" class="sequence-input" id="sequenceInput" 
                   placeholder="Enter sequence..." maxlength="15" readonly>
            
            <div class="input-grid">
                <button class="digit-btn" onclick="addDigit('0')">0</button>
                <button class="digit-btn" onclick="addDigit('1')">1</button>
                <button class="digit-btn" onclick="addDigit('2')">2</button>
                <button class="digit-btn" onclick="addDigit('3')">3</button>
                <button class="digit-btn" onclick="addDigit('4')">4</button>
                <button class="digit-btn" onclick="addDigit('5')">5</button>
                <button class="digit-btn" onclick="addDigit('6')">6</button>
                <button class="digit-btn" onclick="addDigit('7')">7</button>
                <button class="digit-btn" onclick="addDigit('8')">8</button>
                <button class="digit-btn" onclick="addDigit('9')">9</button>
            </div>

            <div class="action-buttons">
                <button class="btn clear-btn" onclick="clearInput()" id="clearBtn">Clear</button>
                <button class="btn submit-btn" onclick="submitSequence()" id="submitBtn">Submit</button>
            </div>
        </div>

        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Score</div>
                <div class="stat-value" id="score">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Correct</div>
                <div class="stat-value" id="correct">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracy">100%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Best Level</div>
                <div class="stat-value" id="bestLevel">1</div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn start-btn" onclick="startGame()" id="startBtn">Start Game</button>
        </div>
    </div>

    <script>
        let gameState = {
            isPlaying: false,
            currentSequence: [],
            userInput: '',
            level: 1,
            round: 1,
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            bestLevel: 1,
            isReverse: false,
            showingSequence: false
        };

        const digitColors = [
            '#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6',
            '#1abc9c', '#34495e', '#e67e22', '#95a5a6', '#c0392b'
        ];

        function updateDisplay() {
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('sequenceLength').textContent = getSequenceLength();
            document.getElementById('round').textContent = gameState.round;
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('correct').textContent = gameState.correctAttempts;
            document.getElementById('bestLevel').textContent = gameState.bestLevel;
            
            const accuracy = gameState.totalAttempts > 0 ? 
                Math.round((gameState.correctAttempts / gameState.totalAttempts) * 100) : 100;
            document.getElementById('accuracy').textContent = accuracy + '%';

            const modeIndicator = document.getElementById('modeIndicator');
            if (gameState.round >= 2) {
                gameState.isReverse = true;
                modeIndicator.textContent = 'Reverse Mode - Enter in reverse order';
                modeIndicator.className = 'round-indicator reverse-mode';
            } else {
                gameState.isReverse = false;
                modeIndicator.textContent = 'Forward Mode - Enter in same order';
                modeIndicator.className = 'round-indicator';
            }
        }

        function getSequenceLength() {
            return Math.min(3 + Math.floor((gameState.level - 1) / 2), 12);
        }

        function generateSequence() {
            const length = getSequenceLength();
            gameState.currentSequence = [];
            for (let i = 0; i < length; i++) {
                gameState.currentSequence.push(Math.floor(Math.random() * 10));
            }
        }

        async function showSequence() {
            gameState.showingSequence = true;
            const digitDisplay = document.getElementById('digitDisplay');
            const statusMessage = document.getElementById('statusMessage');
            
            statusMessage.textContent = 'Watch the sequence...';
            setInputEnabled(false);

            // Small delay before starting
            await delay(1000);

            for (let i = 0; i < gameState.currentSequence.length; i++) {
                const digit = gameState.currentSequence[i];
                
                // Show digit
                digitDisplay.textContent = digit;
                digitDisplay.style.color = digitColors[digit];
                digitDisplay.classList.add('flash');
                
                await delay(800);
                
                // Hide digit
                digitDisplay.classList.remove('flash');
                await delay(400);
            }

            // Sequence complete
            digitDisplay.textContent = '?';
            digitDisplay.style.color = 'white';
            
            const expectedOrder = gameState.isReverse ? 'reverse' : 'same';
            statusMessage.textContent = `Enter the sequence in ${expectedOrder} order:`;
            
            gameState.showingSequence = false;
            setInputEnabled(true);
        }

        function setInputEnabled(enabled) {
            const digitButtons = document.querySelectorAll('.digit-btn');
            const submitBtn = document.getElementById('submitBtn');
            const clearBtn = document.getElementById('clearBtn');
            
            digitButtons.forEach(btn => btn.disabled = !enabled);
            submitBtn.disabled = !enabled;
            clearBtn.disabled = !enabled;
        }

        function addDigit(digit) {
            if (!gameState.isPlaying || gameState.showingSequence) return;
            
            const input = document.getElementById('sequenceInput');
            if (input.value.length < getSequenceLength()) {
                input.value += digit;
            }
        }

        function clearInput() {
            if (!gameState.isPlaying || gameState.showingSequence) return;
            document.getElementById('sequenceInput').value = '';
        }

        function submitSequence() {
            if (!gameState.isPlaying || gameState.showingSequence) return;
            
            const userSequence = document.getElementById('sequenceInput').value;
            if (userSequence.length !== gameState.currentSequence.length) {
                document.getElementById('statusMessage').textContent = 
                    `Please enter all ${gameState.currentSequence.length} digits!`;
                return;
            }

            checkAnswer(userSequence);
        }

        function checkAnswer(userInput) {
            const expectedSequence = gameState.isReverse ? 
                [...gameState.currentSequence].reverse() : 
                gameState.currentSequence;
            
            const isCorrect = userInput === expectedSequence.join('');
            
            gameState.totalAttempts++;
            
            if (isCorrect) {
                gameState.correctAttempts++;
                gameState.score += gameState.level * 10;
                
                document.getElementById('statusMessage').textContent = 
                    `Correct! +${gameState.level * 10} points`;
                document.querySelector('.game-container').classList.add('correct-flash');
                
                setTimeout(() => {
                    document.querySelector('.game-container').classList.remove('correct-flash');
                    nextLevel();
                }, 1500);
                
            } else {
                document.getElementById('statusMessage').textContent = 
                    `Incorrect! Expected: ${expectedSequence.join('')}`;
                document.querySelector('.game-container').classList.add('incorrect-flash');
                
                setTimeout(() => {
                    document.querySelector('.game-container').classList.remove('incorrect-flash');
                    if (gameState.level > 1) {
                        gameState.level--;
                        startLevel();
                    } else {
                        endGame();
                    }
                }, 2500);
            }
            
            updateDisplay();
        }

        function nextLevel() {
            gameState.level++;
            if (gameState.level > gameState.bestLevel) {
                gameState.bestLevel = gameState.level;
            }
            
            // Switch to reverse mode after completing first round
            if (gameState.level === 2) {
                gameState.round = 2;
            }
            
            startLevel();
        }

        function startLevel() {
            clearInput();
            generateSequence();
            updateDisplay();
            
            setTimeout(() => {
                showSequence();
            }, 800);
        }

        function startGame() {
            const startBtn = document.getElementById('startBtn');
            
            if (gameState.isPlaying) {
                endGame();
                return;
            }
            
            // Reset game state
            gameState.isPlaying = true;
            gameState.level = 1;
            gameState.round = 1;
            gameState.score = 0;
            gameState.totalAttempts = 0;
            gameState.correctAttempts = 0;
            gameState.showingSequence = false;
            
            startBtn.textContent = 'Stop Game';
            updateDisplay();
            startLevel();
        }

        function endGame() {
            gameState.isPlaying = false;
            
            document.getElementById('startBtn').textContent = 'Start Game';
            document.getElementById('statusMessage').textContent = 
                `Game Over! Final Level: ${gameState.level}`;
            
            setInputEnabled(false);
            clearInput();
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (!gameState.isPlaying || gameState.showingSequence) return;
            
            if (e.key >= '0' && e.key <= '9') {
                addDigit(e.key);
            } else if (e.key === 'Enter') {
                submitSequence();
            } else if (e.key === 'Backspace' || e.key === 'Delete') {
                const input = document.getElementById('sequenceInput');
                input.value = input.value.slice(0, -1);
            } else if (e.key === 'Escape') {
                clearInput();
            }
        });

        // Initialize
        updateDisplay();
        setInputEnabled(false);
    </script>
</body>
</html> 